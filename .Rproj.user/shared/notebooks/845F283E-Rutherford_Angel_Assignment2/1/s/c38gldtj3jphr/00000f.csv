"0","# Get demographic data from ACS"
"0",""
"0","tract_data <- get_acs("
"0","  geography=""tract"","
"0","  variables= c("
"0","    total_pop = ""B01003_001"","
"0","    median_income = ""B19013_001"""
"0","  ),"
"0","  state = ""PA"","
"0","  year = 2022,"
"0","  output = ""wide"""
"0",")"
"0",""
"0","over_65 = c(""B01001_020"",""B01001_021"",""B01001_022"",""B01001_023"","
"0","            ""B01001_024"",""B01001_025"",""B01001_044"",""B01001_045"","
"0","            ""B01001_046"",""B01001_047"",""B01001_048"",""B01001_049"")"
"0",""
"0","elderly_data = get_acs("
"0","  geography=""tract"","
"0","  variables =c(over_65"
"0","),"
"0","  state = ""PA"","
"0","  year = 2022,"
"0","  output = ""wide"""
"0",")"
"0",""
"0","over_65_E<- paste0(over_65, ""E"")"
"0",""
"0","elderly_data<- elderly_data%>%"
"0","  mutate(elderly_pop = rowSums(elderly_data[, over_65_E], na.rm = TRUE))"
"0","  "
"0","total_elderly <-elderly_data%>%"
"0","  select(GEOID,elderly_pop)"
"0",""
"0","tract_data <-left_join(tract_data, total_elderly, by=""GEOID"")"
"0",""
"0","# Join to tract boundaries"
"0",""
"0","data_with_bounds = left_join(census_tracts, tract_data, by=""GEOID"")"
"0","data_with_bounds"
"1","Simple feature collection with 3445 features and 19 fields"
"1","
"
"1","Geometry type: MULTIPOLYGON
"
"1","Dimension:     XY
"
"1","Bounding box:  "
"1","xmin: -80.51989 ymin: 39.7198 xmax: -74.68952 ymax: 42.26986"
"1","
"
"1","Geodetic CRS:  NAD83
"
"1","First 10 features:
"
"1","  "
"1"," STATEFP"
"1"," COUNTYFP"
"1"," TRACTCE"
"1","              GEOIDFQ"
"1","       GEOID"
"1"," NAME.x"
"1","            NAMELSAD"
"1","
1 "
"1","      42"
"1","      001"
"1","  031101"
"1"," 1400000US42001031101"
"1"," 42001031101"
"1"," 311.01"
"1"," Census Tract 311.01"
"1","
2 "
"1","      42"
"1","      013"
"1","  100400"
"1"," 1400000US42013100400"
"1"," 42013100400"
"1","   1004"
"1","   Census Tract 1004"
"1","
3 "
"1","      42"
"1","      013"
"1","  100500"
"1"," 1400000US42013100500"
"1"," 42013100500"
"1","   1005"
"1","   Census Tract 1005"
"1","
4 "
"1","      42"
"1","      013"
"1","  100800"
"1"," 1400000US42013100800"
"1"," 42013100800"
"1","   1008"
"1","   Census Tract 1008"
"1","
5 "
"1","      42"
"1","      013"
"1","  101900"
"1"," 1400000US42013101900"
"1"," 42013101900"
"1","   1019"
"1","   Census Tract 1019"
"1","
6 "
"1","      42"
"1","      011"
"1","  011200"
"1"," 1400000US42011011200"
"1"," 42011011200"
"1","    112"
"1","    Census Tract 112"
"1","
7 "
"1","      42"
"1","      011"
"1","  000200"
"1"," 1400000US42011000200"
"1"," 42011000200"
"1","      2"
"1","      Census Tract 2"
"1","
8 "
"1","      42"
"1","      011"
"1","  011500"
"1"," 1400000US42011011500"
"1"," 42011011500"
"1","    115"
"1","    Census Tract 115"
"1","
9 "
"1","      42"
"1","      011"
"1","  000600"
"1"," 1400000US42011000600"
"1"," 42011000600"
"1","      6"
"1","      Census Tract 6"
"1","
10"
"1","      42"
"1","      011"
"1","  001900"
"1"," 1400000US42011001900"
"1"," 42011001900"
"1","     19"
"1","     Census Tract 19"
"1","
"
"1","  "
"1"," STUSPS"
"1","   NAMELSADCO"
"1","   STATE_NAME"
"1"," LSAD"
"1","   ALAND"
"1"," AWATER"
"1","
1 "
"1","     PA"
"1"," Adams County"
"1"," Pennsylvania"
"1","   CT"
"1"," 3043185"
"1","      0"
"1","
2 "
"1","     PA"
"1"," Blair County"
"1"," Pennsylvania"
"1","   CT"
"1","  993724"
"1","      0"
"1","
3 "
"1","     PA"
"1"," Blair County"
"1"," Pennsylvania"
"1","   CT"
"1"," 1130204"
"1","      0"
"1","
4 "
"1","     PA"
"1"," Blair County"
"1"," Pennsylvania"
"1","   CT"
"1","  996553"
"1","      0"
"1","
5 "
"1","     PA"
"1"," Blair County"
"1"," Pennsylvania"
"1","   CT"
"1","  573726"
"1","      0"
"1","
6 "
"1","     PA"
"1"," Berks County"
"1"," Pennsylvania"
"1","   CT"
"1"," 1539365"
"1","   9308"
"1","
7 "
"1","     PA"
"1"," Berks County"
"1"," Pennsylvania"
"1","   CT"
"1"," 1949529"
"1"," 159015"
"1","
8 "
"1","     PA"
"1"," Berks County"
"1"," Pennsylvania"
"1","   CT"
"1"," 1978380"
"1","  12469"
"1","
9 "
"1","     PA"
"1"," Berks County"
"1"," Pennsylvania"
"1","   CT"
"1"," 1460473"
"1","      0"
"1","
10"
"1","     PA"
"1"," Berks County"
"1"," Pennsylvania"
"1","   CT"
"1","  182420"
"1","      0"
"1","
"
"1","  "
"1","                                          NAME.y"
"1"," total_popE"
"1"," total_popM"
"1"," median_incomeE"
"1","
1 "
"1"," Census Tract 311.01; Adams County; Pennsylvania"
"1","       5070"
"1","        358"
"1","          61847"
"1","
2 "
"1","   Census Tract 1004; Blair County; Pennsylvania"
"1","       1589"
"1","        253"
"1","          67120"
"1","
3 "
"1","   Census Tract 1005; Blair County; Pennsylvania"
"1","       3380"
"1","        580"
"1","          50450"
"1","
4 "
"1","   Census Tract 1008; Blair County; Pennsylvania"
"1","       1860"
"1","        256"
"1","          64583"
"1","
5 "
"1","   Census Tract 1019; Blair County; Pennsylvania"
"1","       1436"
"1","        196"
"1","          16429"
"1","
6 "
"1","    Census Tract 112; Berks County; Pennsylvania"
"1","       4533"
"1","         19"
"1","          56818"
"1","
7 "
"1","      Census Tract 2; Berks County; Pennsylvania"
"1","       4318"
"1","        678"
"1","          23424"
"1","
8 "
"1","    Census Tract 115; Berks County; Pennsylvania"
"1","       2923"
"1","         16"
"1","          76410"
"1","
9 "
"1","      Census Tract 6; Berks County; Pennsylvania"
"1","       3936"
"1","        456"
"1","          81477"
"1","
10"
"1","     Census Tract 19; Berks County; Pennsylvania"
"1","       1916"
"1","        368"
"1","          18815"
"1","
"
"1","  "
"1"," median_incomeM"
"1"," elderly_pop"
"1","                       geometry"
"1","
1 "
"1","           8600"
"1","         946"
"1"," MULTIPOLYGON (((-77.03108 3..."
"1","
2 "
"1","          12405"
"1","         238"
"1"," MULTIPOLYGON (((-78.42478 4..."
"1","
3 "
"1","           5089"
"1","         463"
"1"," MULTIPOLYGON (((-78.41661 4..."
"1","
4 "
"1","          19957"
"1","         282"
"1"," MULTIPOLYGON (((-78.41067 4..."
"1","
5 "
"1","           2414"
"1","         636"
"1"," MULTIPOLYGON (((-78.40836 4..."
"1","
6 "
"1","           7404"
"1","         600"
"1"," MULTIPOLYGON (((-75.95433 4..."
"1","
7 "
"1","           5240"
"1","         617"
"1"," MULTIPOLYGON (((-75.96071 4..."
"1","
8 "
"1","           5720"
"1","         500"
"1"," MULTIPOLYGON (((-75.99913 4..."
"1","
9 "
"1","          17377"
"1","         487"
"1"," MULTIPOLYGON (((-75.91528 4..."
"1","
10"
"1","           9521"
"1","         375"
"1"," MULTIPOLYGON (((-75.91819 4..."
"1","
"
"0","no_record= sum(is.na(tract_data$median_incomeE))"
"0","no_record"
"1","[1]"
"1"," 63"
"1","
"
"0","median_median= median(tract_data$median_incomeE, na.rm = TRUE)"
"0","median_median"
"1","[1]"
"1"," 70188"
"1","
"
